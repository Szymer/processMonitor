
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="csrf-token" content="{{ csrf_token }}">
  <script src="https://unpkg.com/htmx.org@1.9.6"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    </style>
  {% block title%}
  <title>HOME </title>
  
  {% endblock title%}
</head>
<body>

  <div class="container text-end mt-1" >

    {% if user.is_authenticated %}
      {% if request.resolver_match.url_name != "home" %}
          <form method="get" action="{% url 'home' %}" class="d-inline">
            {% csrf_token %}
          <button type="submit" class="btn-home">🏠 Home</button>
          </form>
       {%endif%}
      <form method="post" action="{% url 'logout' %}" class="d-inline">
          {% csrf_token %}
          <button type="submit" class="btn-end">🚪 Logout</button>
      </form>
    {% endif %}
  
  </div>


<div class="container text-left mt-2" style = "background-color:black" >
  <img src="https://www.aptiv.com/Assets/aptiv-logo.svg" class="img-fluid rounded shadow" alt="Process Monitor" style="background-color: black;">
</div>

  <div id="modals-here"
    class="modal modal-blur fade"
    style="display: none"
    aria-hidden="false"
    tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content"></div>
    </div>
</div>

  {% if messages %}
  <div class="container text-center mt-3"  >
    {% for message in messages %}

        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">{{message.level_tag}}</h5>
            </div>
            <div class="modal-body">
              <p>{{ message }}</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="location.reload();">Close</button>
            </div>
          </div>
        </div>
    {% endfor %}
  </div>
{% endif %}

  {% block content %}
   
  {% endblock content  %}
  <script>
    document.body.addEventListener("htmx:configRequest", (event) => {
        event.detail.headers["X-CSRFToken"] = document.querySelector("meta[name=csrf-token]").content;
    });
</script>
</body>
</html>